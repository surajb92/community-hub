{% extends 'base.html' %}

{% block head %}
<title>Communication Hub</title>
<script type="text/javascript">
const uname = '{{user}}';
const utype = '{{usertype}}';
var cd = {{cooldown}}
var room = "{{room}}";
var init_chat = {{ chats | tojson }};
</script>
<script src="{{ url_for('static', filename='js/chat_handler.js') }}"></script>
{% endblock %}

{% block body %}
<h1 id="chattitle" style="text-align: center">Main Hub</h1>
<div style="display: flex; flex-direction: row;">
	<div style="display: flex; flex-direction: column; padding: 10px; margin: 10px;">
		<button class="room-button" onclick="changeRoom('general')">General Room</button><br><br>
		{% if usertype == 'registered' %}
		<button class="room-button" onclick="changeRoom('weebchat')">Anime | Manga | Manhwa etc.</button>
		{% endif %}
	</div>
	<div style="display: flex; flex-direction: column;">
		<div class="chat-list" id="general"></div>
		<div class="chat-list" id="weebchat"></div>
		<div id="userchatbox">
			<input type="text" placeholder="Enter message.." id="userchat" name="userchat" />
			<button type="submit" id="send-btn" onclick="sendMessage()">Send</button>
		</div>
	</div>
</div>
<script src="{{ url_for('static', filename='js/login_handler.js') }}"></script>
{% endblock %}